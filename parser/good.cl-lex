2
class
2
type
List
2
inherits
2
type
IO
2
lbrace
3
identifier
isNil
3
lparen
3
rparen
3
colon
3
type
Bool
3
lbrace
3
true
3
rbrace
3
semi
4
identifier
s
4
colon
4
type
String
4
semi
5
identifier
s
5
lparen
5
rparen
5
colon
5
type
String
5
lbrace
5
identifier
s
5
rbrace
5
semi
6
identifier
next
6
colon
6
type
List
6
semi
7
identifier
next
7
lparen
7
rparen
7
colon
7
type
List
7
lbrace
7
identifier
next
7
rbrace
7
semi
9
identifier
random1
9
colon
9
type
Int
9
larrow
9
lparen
9
identifier
a
9
plus
9
identifier
b
9
times
9
identifier
c
9
rparen
9
minus
9
lparen
9
identifier
d
9
plus
9
identifier
e
9
rparen
9
times
9
identifier
f
9
semi
10
identifier
randombool
10
colon
10
type
Bool
10
larrow
10
lparen
10
identifier
a
10
lt
10
identifier
b
10
rparen
10
lt
10
identifier
c
10
semi
11
identifier
randombool2
11
colon
11
type
Bool
11
larrow
11
identifier
a
11
dot
11
identifier
firstcall
11
lparen
11
rparen
11
dot
11
identifier
secondcall
11
lparen
11
rparen
11
le
11
identifier
b
11
dot
11
identifier
secondcall
11
lparen
11
rparen
11
plus
11
identifier
a
11
dot
11
identifier
firstcall
11
lparen
11
rparen
11
semi
13
identifier
sortedInsert
13
lparen
13
identifier
news
13
colon
13
type
String
13
rparen
13
colon
13
type
List
13
lbrace
14
if
14
identifier
isNil
14
lparen
14
rparen
14
then
15
lparen
15
new
15
type
ListNode
15
rparen
15
dot
15
identifier
init
15
lparen
15
identifier
news
15
comma
15
identifier
self
15
rparen
16
else
17
if
17
identifier
news
17
lt
17
identifier
s
17
then
18
lparen
18
new
18
type
ListNode
18
rparen
18
dot
18
identifier
init
18
lparen
18
identifier
news
18
comma
18
identifier
self
18
rparen
19
else
19
lbrace
20
identifier
next
20
larrow
20
identifier
next
20
dot
20
identifier
sortedInsert
20
lparen
20
identifier
news
20
rparen
20
semi
21
identifier
i
21
larrow
21
identifier
i
21
plus
21
integer
1
21
semi
22
identifier
self
22
semi
23
rbrace
23
fi
24
fi
25
rbrace
25
semi
27
identifier
reverseInsert
27
lparen
27
identifier
news
27
colon
27
type
String
27
rparen
27
colon
27
type
List
27
lbrace
28
if
28
identifier
isNil
28
lparen
28
rparen
28
then
29
lparen
29
new
29
type
ListNode
29
rparen
29
dot
29
identifier
init
29
lparen
29
identifier
news
29
comma
29
identifier
self
29
rparen
30
else
30
lbrace
31
identifier
next
31
larrow
31
identifier
next
31
dot
31
identifier
reverseInsert
31
lparen
31
identifier
news
31
rparen
31
semi
32
identifier
self
32
semi
33
rbrace
33
fi
34
rbrace
34
semi
36
identifier
insert
36
lparen
36
identifier
news
36
colon
36
type
String
36
rparen
36
colon
36
type
List
36
lbrace
37
lparen
37
new
37
type
ListNode
37
rparen
37
dot
37
identifier
init
37
lparen
37
identifier
news
37
comma
37
identifier
self
37
rparen
38
rbrace
38
semi
40
identifier
remove
40
lparen
40
identifier
search
40
colon
40
type
String
40
rparen
40
colon
40
type
List
40
lbrace
41
identifier
self
42
rbrace
42
semi
44
identifier
print
44
lparen
44
rparen
44
colon
44
type
Object
44
lbrace
45
if
45
identifier
isNil
45
lparen
45
rparen
45
then
45
identifier
out_string
45
lparen
45
string
\n
45
rparen
46
else
46
lbrace
47
identifier
out_string
47
lparen
47
identifier
s
47
rparen
47
semi
48
identifier
out_string
48
lparen
48
string
, 
48
rparen
48
semi
49
identifier
next
49
dot
49
identifier
print
49
lparen
49
rparen
49
semi
50
rbrace
50
fi
51
rbrace
51
semi
53
identifier
print_new_line
53
lparen
53
rparen
53
colon
53
type
Object
53
lbrace
54
if
54
identifier
isNil
54
lparen
54
rparen
54
then
54
integer
0
55
else
55
lbrace
56
identifier
out_string
56
lparen
56
identifier
s
56
rparen
56
semi
57
identifier
out_string
57
lparen
57
string
\n
57
rparen
57
semi
58
identifier
next
58
dot
58
identifier
print_new_line
58
lparen
58
rparen
58
semi
59
rbrace
59
fi
60
rbrace
60
semi
62
identifier
contains
62
lparen
62
identifier
search
62
colon
62
type
String
62
rparen
62
colon
62
type
Bool
62
lbrace
63
if
63
identifier
isNil
63
lparen
63
rparen
63
then
64
false
65
else
66
if
66
identifier
search
66
equals
66
identifier
s
66
then
67
true
68
else
69
identifier
next
69
dot
69
identifier
contains
69
lparen
69
identifier
search
69
rparen
70
fi
71
fi
72
rbrace
72
semi
73
rbrace
73
semi
76
class
76
type
ListNode
76
inherits
76
type
List
76
lbrace
77
identifier
isNil
77
lparen
77
rparen
77
colon
77
type
Bool
77
lbrace
77
false
77
rbrace
77
semi
80
identifier
init
80
lparen
80
identifier
news
80
colon
80
type
String
80
comma
80
identifier
newnext
80
colon
80
type
List
80
rparen
80
colon
80
type
List
80
lbrace
80
lbrace
81
identifier
s
81
larrow
81
identifier
news
81
semi
82
identifier
next
82
larrow
82
identifier
newnext
82
semi
83
identifier
self
83
semi
84
rbrace
84
rbrace
84
semi
86
identifier
remove
86
lparen
86
identifier
search
86
colon
86
type
String
86
rparen
86
colon
86
type
List
86
lbrace
86
lbrace
87
identifier
next
87
larrow
87
identifier
next
87
dot
87
identifier
remove
87
lparen
87
identifier
search
87
rparen
87
semi
88
if
88
identifier
search
88
equals
88
identifier
s
88
then
88
identifier
next
88
else
88
identifier
self
88
fi
88
semi
89
rbrace
89
rbrace
89
semi
90
rbrace
90
semi
93
class
93
type
Map
93
inherits
93
type
IO
93
lbrace
94
identifier
key
94
colon
94
type
String
94
semi
95
identifier
elements
95
colon
95
type
List
95
semi
96
identifier
next
96
colon
96
type
Map
96
semi
98
identifier
isNil
98
lparen
98
rparen
98
colon
98
type
Bool
98
lbrace
98
true
98
rbrace
98
semi
99
identifier
key
99
lparen
99
rparen
99
colon
99
type
String
99
lbrace
99
identifier
key
99
rbrace
99
semi
100
identifier
elements
100
lparen
100
rparen
100
colon
100
type
List
100
lbrace
100
identifier
elements
100
rbrace
100
semi
101
identifier
next
101
lparen
101
rparen
101
colon
101
type
Map
101
lbrace
101
identifier
next
101
rbrace
101
semi
103
identifier
contains
103
lparen
103
identifier
search
103
colon
103
type
String
103
rparen
103
colon
103
type
Bool
103
lbrace
104
if
104
identifier
isNil
104
lparen
104
rparen
104
then
104
false
104
else
105
if
105
identifier
key
105
equals
105
identifier
search
105
then
105
true
106
else
106
identifier
next
106
dot
106
identifier
contains
106
lparen
106
identifier
search
106
rparen
106
fi
107
fi
108
rbrace
108
semi
110
identifier
insert
110
lparen
110
identifier
search
110
colon
110
type
String
110
comma
110
identifier
value
110
colon
110
type
String
110
rparen
110
colon
110
type
Map
110
lbrace
111
if
111
identifier
isNil
111
lparen
111
rparen
111
then
112
lparen
112
new
112
type
MapNode
112
rparen
112
dot
112
identifier
init
112
lparen
112
identifier
search
112
comma
112
identifier
value
112
comma
112
identifier
self
112
rparen
113
else
114
if
114
identifier
search
114
equals
114
identifier
key
114
then
115
if
115
identifier
elements
115
dot
115
identifier
contains
115
lparen
115
identifier
value
115
rparen
115
then
116
identifier
self
117
else
117
lbrace
118
identifier
elements
118
larrow
118
identifier
elements
118
dot
118
identifier
sortedInsert
118
lparen
118
identifier
value
118
rparen
118
semi
119
identifier
self
119
semi
120
rbrace
120
fi
121
else
121
lbrace
122
identifier
next
122
larrow
122
identifier
next
122
dot
122
identifier
insert
122
lparen
122
identifier
search
122
comma
122
identifier
value
122
rparen
122
semi
123
identifier
self
123
semi
124
rbrace
124
fi
125
fi
126
rbrace
126
semi
128
identifier
remove
128
lparen
128
identifier
search
128
colon
128
type
String
128
comma
128
identifier
value
128
colon
128
type
String
128
rparen
128
colon
128
type
Map
128
lbrace
129
if
129
identifier
isNil
129
lparen
129
rparen
129
then
129
identifier
self
129
else
130
if
130
identifier
search
130
equals
130
identifier
key
130
then
130
lbrace
131
identifier
elements
131
larrow
131
identifier
elements
131
dot
131
identifier
remove
131
lparen
131
identifier
value
131
rparen
131
semi
132
identifier
self
132
semi
133
rbrace
133
else
133
lbrace
134
identifier
next
134
larrow
134
identifier
next
134
dot
134
identifier
remove
134
lparen
134
identifier
search
134
comma
134
identifier
value
134
rparen
134
semi
135
identifier
self
135
semi
136
rbrace
136
fi
137
fi
138
rbrace
138
semi
140
identifier
get
140
lparen
140
identifier
search
140
colon
140
type
String
140
rparen
140
colon
140
type
List
140
lbrace
141
if
141
identifier
isNil
141
lparen
141
rparen
141
then
141
new
141
type
List
141
else
142
if
142
identifier
search
142
equals
142
identifier
key
142
then
142
identifier
elements
143
else
143
identifier
next
143
dot
143
identifier
get
143
lparen
143
identifier
search
143
rparen
143
fi
144
fi
145
rbrace
145
semi
147
identifier
print
147
lparen
147
rparen
147
colon
147
type
Object
147
lbrace
148
if
148
identifier
isNil
148
lparen
148
rparen
148
then
148
identifier
out_string
148
lparen
148
string
\n
148
rparen
148
else
148
lbrace
149
identifier
out_string
149
lparen
149
string
Key 
149
rparen
149
semi
150
identifier
out_string
150
lparen
150
identifier
key
150
rparen
150
semi
151
identifier
out_string
151
lparen
151
string
: 
151
rparen
151
semi
152
identifier
elements
152
dot
152
identifier
print
152
lparen
152
rparen
152
semi
153
identifier
next
153
dot
153
identifier
print
153
lparen
153
rparen
153
semi
154
rbrace
154
fi
155
rbrace
155
semi
156
rbrace
156
semi
159
class
159
type
MapNode
159
inherits
159
type
Map
159
lbrace
160
identifier
isNil
160
lparen
160
rparen
160
colon
160
type
Bool
160
lbrace
160
false
160
rbrace
160
semi
162
identifier
init
162
lparen
162
identifier
search
162
colon
162
type
String
162
comma
162
identifier
value
162
colon
162
type
String
162
comma
162
identifier
therest
162
colon
162
type
Map
162
rparen
162
colon
162
type
MapNode
162
lbrace
162
lbrace
163
identifier
key
163
larrow
163
identifier
search
163
semi
164
identifier
elements
164
larrow
164
new
164
type
List
164
semi
165
identifier
elements
165
larrow
165
identifier
elements
165
dot
165
identifier
insert
165
lparen
165
identifier
value
165
rparen
165
semi
166
identifier
next
166
larrow
166
identifier
therest
166
semi
167
identifier
self
167
semi
168
rbrace
168
rbrace
168
semi
169
rbrace
169
semi
171
class
171
type
Main
171
inherits
171
type
IO
171
lbrace
172
identifier
myList
172
colon
172
type
List
172
larrow
172
new
172
type
List
172
semi
173
identifier
myMap
173
colon
173
type
Map
173
larrow
173
new
173
type
Map
173
semi
174
identifier
printList
174
colon
174
type
List
174
larrow
174
new
174
type
List
174
semi
175
identifier
unvisitedDFSList
175
colon
175
type
List
175
larrow
175
new
175
type
List
175
semi
176
identifier
visitingDFSList
176
colon
176
type
List
176
larrow
176
new
176
type
List
176
semi
177
identifier
visitedDFSList
177
colon
177
type
List
177
larrow
177
new
177
type
List
177
semi
178
identifier
visitedTopSortList
178
colon
178
type
List
178
larrow
178
new
178
type
List
178
semi
179
identifier
randombool
179
colon
179
type
Bool
179
larrow
179
integer
1
179
plus
179
integer
2
179
times
179
integer
3
179
le
179
integer
4
179
times
179
lparen
179
integer
5
179
divide
179
integer
6
179
plus
179
integer
7
179
divide
179
integer
8
179
rparen
179
semi
182
identifier
dfs_cycle
182
lparen
182
identifier
graph
182
colon
182
type
Map
182
comma
182
identifier
vertex
182
colon
182
type
String
182
rparen
182
colon
182
type
Bool
182
lbrace
183
let
183
identifier
result
183
colon
183
type
Bool
183
larrow
183
false
183
in
184
if
184
identifier
visitingDFSList
184
dot
184
identifier
contains
184
lparen
184
identifier
vertex
184
rparen
184
then
185
true
186
else
187
if
187
identifier
visitedDFSList
187
dot
187
identifier
contains
187
lparen
187
identifier
vertex
187
rparen
187
then
188
false
189
else
190
lbrace
191
identifier
visitingDFSList
191
larrow
191
identifier
visitingDFSList
191
dot
191
identifier
insert
191
lparen
191
identifier
vertex
191
rparen
191
semi
192
identifier
unvisitedDFSList
192
larrow
192
identifier
unvisitedDFSList
192
dot
192
identifier
remove
192
lparen
192
identifier
vertex
192
rparen
192
semi
193
let
193
identifier
neighbors
193
colon
193
type
List
193
larrow
193
identifier
graph
193
dot
193
identifier
get
193
lparen
193
identifier
vertex
193
rparen
193
comma
194
identifier
done
194
colon
194
type
Bool
194
larrow
194
false
194
in
195
while
195
not
195
identifier
done
195
loop
196
if
196
identifier
neighbors
196
dot
196
identifier
isNil
196
lparen
196
rparen
196
then
197
identifier
done
197
larrow
197
true
198
else
199
if
199
identifier
dfs_cycle
199
lparen
199
identifier
graph
199
comma
199
identifier
neighbors
199
dot
199
identifier
s
199
lparen
199
rparen
199
rparen
199
then
199
lbrace
200
identifier
result
200
larrow
200
true
200
semi
201
identifier
neighbors
201
larrow
201
identifier
neighbors
201
dot
201
identifier
next
201
lparen
201
rparen
201
semi
202
rbrace
202
else
203
identifier
neighbors
203
larrow
203
identifier
neighbors
203
dot
203
identifier
next
203
lparen
203
rparen
204
fi
205
fi
206
pool
206
semi
207
identifier
visitingDFSList
207
larrow
207
identifier
visitingDFSList
207
dot
207
identifier
remove
207
lparen
207
identifier
vertex
207
rparen
207
semi
208
identifier
visitedDFSList
208
larrow
208
identifier
visitedDFSList
208
dot
208
identifier
insert
208
lparen
208
identifier
vertex
208
rparen
208
semi
209
identifier
result
209
semi
210
rbrace
211
fi
212
fi
213
rbrace
213
semi
216
identifier
detect_cycle
216
lparen
216
identifier
graph
216
colon
216
type
Map
216
rparen
216
colon
216
type
Bool
216
lbrace
216
lbrace
217
let
217
identifier
done
217
colon
217
type
Bool
217
larrow
217
false
217
comma
218
identifier
curList
218
colon
218
type
List
218
larrow
218
identifier
myList
218
comma
219
identifier
tmpString
219
colon
219
type
String
219
larrow
219
string

220
in
221
while
221
not
221
identifier
done
221
loop
222
if
222
identifier
curList
222
dot
222
identifier
isNil
222
lparen
222
rparen
222
then
223
identifier
done
223
larrow
223
true
224
else
224
lbrace
225
identifier
tmpString
225
larrow
225
identifier
curList
225
dot
225
identifier
s
225
lparen
225
rparen
225
semi
226
identifier
unvisitedDFSList
226
larrow
226
identifier
unvisitedDFSList
226
dot
226
identifier
insert
226
lparen
226
identifier
tmpString
226
rparen
226
semi
227
identifier
curList
227
larrow
227
identifier
curList
227
dot
227
identifier
next
227
lparen
227
rparen
227
semi
228
rbrace
228
fi
229
pool
229
semi
231
let
231
identifier
done
231
colon
231
type
Bool
231
larrow
231
false
231
comma
232
identifier
curList
232
colon
232
type
List
232
larrow
232
identifier
myList
232
comma
233
identifier
result
233
colon
233
type
Bool
233
larrow
233
false
234
in
234
lbrace
235
while
235
not
235
identifier
done
235
loop
236
if
236
identifier
curList
236
dot
236
identifier
isNil
236
lparen
236
rparen
236
then
237
identifier
done
237
larrow
237
true
238
else
239
if
239
identifier
unvisitedDFSList
239
dot
239
identifier
contains
239
lparen
239
identifier
curList
239
dot
239
identifier
s
239
lparen
239
rparen
239
rparen
239
then
239
lbrace
240
if
240
identifier
dfs_cycle
240
lparen
240
identifier
graph
240
comma
240
identifier
curList
240
dot
240
identifier
s
240
lparen
240
rparen
240
rparen
240
then
241
identifier
result
241
larrow
241
true
242
else
243
integer
0
244
fi
244
semi
245
identifier
curList
245
larrow
245
identifier
curList
245
dot
245
identifier
next
245
lparen
245
rparen
245
semi
246
rbrace
246
else
247
identifier
curList
247
larrow
247
identifier
curList
247
dot
247
identifier
next
247
lparen
247
rparen
248
fi
249
fi
250
pool
250
semi
251
identifier
result
251
semi
252
rbrace
252
semi
253
rbrace
253
rbrace
253
semi
256
identifier
dfs_topsort
256
lparen
256
identifier
graph
256
colon
256
type
Map
256
comma
256
identifier
vertex
256
colon
256
type
String
256
rparen
256
colon
256
type
List
256
lbrace
256
lbrace
257
identifier
visitedTopSortList
257
larrow
257
identifier
visitedTopSortList
257
dot
257
identifier
insert
257
lparen
257
identifier
vertex
257
rparen
257
semi
258
let
258
identifier
neighbors
258
colon
258
type
List
258
larrow
258
identifier
graph
258
dot
258
identifier
get
258
lparen
258
identifier
vertex
258
rparen
258
comma
259
identifier
done
259
colon
259
type
Bool
259
larrow
259
false
260
in
261
while
261
not
261
identifier
done
261
loop
262
if
262
identifier
neighbors
262
dot
262
identifier
isNil
262
lparen
262
rparen
262
then
263
identifier
done
263
larrow
263
true
264
else
265
if
265
not
265
identifier
visitedTopSortList
265
dot
265
identifier
contains
265
lparen
265
identifier
neighbors
265
dot
265
identifier
s
265
lparen
265
rparen
265
rparen
265
then
265
lbrace
266
identifier
dfs_topsort
266
lparen
266
identifier
graph
266
comma
266
identifier
neighbors
266
dot
266
identifier
s
266
lparen
266
rparen
266
rparen
266
semi
267
identifier
neighbors
267
larrow
267
identifier
neighbors
267
dot
267
identifier
next
267
lparen
267
rparen
267
semi
268
rbrace
268
else
269
identifier
neighbors
269
larrow
269
identifier
neighbors
269
dot
269
identifier
next
269
lparen
269
rparen
270
fi
271
fi
272
pool
272
semi
273
identifier
printList
273
larrow
273
identifier
printList
273
dot
273
identifier
reverseInsert
273
lparen
273
identifier
vertex
273
rparen
273
semi
274
rbrace
274
rbrace
274
semi
277
identifier
topsort
277
lparen
277
identifier
graph
277
colon
277
type
Map
277
rparen
277
colon
277
type
Object
277
lbrace
277
lbrace
278
let
278
identifier
done
278
colon
278
type
Bool
278
larrow
278
false
278
comma
279
identifier
curList
279
colon
279
type
List
279
larrow
279
identifier
myList
280
in
281
while
281
not
281
identifier
done
281
loop
282
if
282
identifier
curList
282
dot
282
identifier
isNil
282
lparen
282
rparen
282
then
283
identifier
done
283
larrow
283
true
284
else
285
if
285
not
285
identifier
visitedTopSortList
285
dot
285
identifier
contains
285
lparen
285
identifier
curList
285
dot
285
identifier
s
285
lparen
285
rparen
285
rparen
285
then
285
lbrace
286
identifier
dfs_topsort
286
lparen
286
identifier
graph
286
comma
286
identifier
curList
286
dot
286
identifier
s
286
lparen
286
rparen
286
rparen
286
semi
287
identifier
curList
287
larrow
287
identifier
curList
287
dot
287
identifier
next
287
lparen
287
rparen
287
semi
288
rbrace
288
else
289
identifier
curList
289
larrow
289
identifier
curList
289
dot
289
identifier
next
289
lparen
289
rparen
290
fi
291
fi
292
pool
292
semi
293
rbrace
293
rbrace
293
semi
295
identifier
main
295
lparen
295
rparen
295
colon
295
type
Object
295
lbrace
295
lbrace
296
let
296
identifier
done
296
colon
296
type
Bool
296
larrow
296
false
297
in
298
while
298
not
298
identifier
done
298
loop
299
let
299
identifier
t1
299
colon
299
type
String
299
larrow
299
identifier
in_string
299
lparen
299
rparen
299
comma
300
identifier
t2
300
colon
300
type
String
300
larrow
300
identifier
in_string
300
lparen
300
rparen
301
in
301
lbrace
302
if
302
identifier
t1
302
equals
302
string

302
then
303
identifier
done
303
larrow
303
true
304
else
304
lbrace
305
identifier
myMap
305
larrow
305
identifier
myMap
305
dot
305
identifier
insert
305
lparen
305
identifier
t1
305
comma
305
identifier
t2
305
rparen
305
semi
306
if
306
not
306
identifier
myList
306
dot
306
identifier
contains
306
lparen
306
identifier
t1
306
rparen
306
then
307
identifier
myList
307
larrow
307
identifier
myList
307
dot
307
identifier
sortedInsert
307
lparen
307
identifier
t1
307
rparen
308
else
309
integer
0
310
fi
310
semi
311
if
311
not
311
identifier
myList
311
dot
311
identifier
contains
311
lparen
311
identifier
t2
311
rparen
311
then
312
identifier
myList
312
larrow
312
identifier
myList
312
dot
312
identifier
sortedInsert
312
lparen
312
identifier
t2
312
rparen
313
else
314
integer
0
315
fi
315
semi
316
rbrace
316
fi
316
semi
317
rbrace
318
pool
318
semi
320
if
320
identifier
detect_cycle
320
lparen
320
identifier
myMap
320
rparen
320
then
321
identifier
out_string
321
lparen
321
string
cycle\n
321
rparen
322
else
322
lbrace
323
identifier
topsort
323
lparen
323
identifier
myMap
323
rparen
323
semi
324
identifier
printList
324
dot
324
identifier
print_new_line
324
lparen
324
rparen
324
semi
325
rbrace
325
fi
325
semi
326
rbrace
326
rbrace
326
semi
327
rbrace
327
semi
